"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[468],{3468:function(e,r,n){n.d(r,{Ry:function(){return M},ak:function(){return N},ni:function(){return g},YS:function(){return a}});var t=n(5893),o=n(8527),i=n(4651),s=n(9762),a=function(e){var r,n,a=e.label,l=e.url,u=e.setIsClickNext,c=e.setIsMinimum,d=e.errors,m=e.category;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.kC,{position:"relative",top:0,left:0,w:"100%",h:"5.2rem",borderRadius:"10rem",bgColor:"white",filter:"drop-shadow(4px 4px 10px #E4EBEE)",align:"center",mt:"1rem",onClick:function(){l&&window.open(l),c&&u&&(u(!1),c(!1))},cursor:"pointer",children:[(0,t.jsx)(o.xu,{borderRadius:"100%",w:"2.8rem",h:"2.8rem",marginLeft:"1.2rem",children:(0,t.jsx)(i.Ee,{alt:"",src:(n=m,"\u98df\u4e8b"===n?"/images/icons/food.svg":"\u5834\u6240"===n?"/images/icons/place.svg":"/images/icons/other.svg")})}),(0,t.jsx)(o.xv,{w:"80%",textAlign:"center",fontSize:"md",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",margin:"0 1.6rem",children:a})]}),c&&(0,t.jsx)(s.NI,{isInvalid:!!d,children:(0,t.jsx)(s.J1,{children:d&&(null===(r=d.url)||void 0===r?void 0:r.message)})})]})},l=n(1664),u=n.n(l),c=n(1163),d=n(7657),m=n(2298),f=n(2770),g=function(e){var r=e.data,n=(0,c.useRouter)();return(0,t.jsx)(u(),{href:n.basePath+r.id,passHref:!0,children:(0,t.jsxs)(o.rU,{display:"block",w:"100%",h:"23.9rem",borderRadius:"10",filter:"drop-shadow(0.4rem 0.4rem 1rem #E4EBEE)",bgColor:"white",marginTop:"2.2rem",children:[(0,t.jsx)(o.xu,{bgImage:r.thumbnail,bgSize:"cover",bgRepeat:"no-repeat",bgPosition:"center center",w:"100%",h:"12.9rem",borderTopRadius:"10"}),(0,t.jsxs)(o.kC,{justify:"space-between",children:[(0,t.jsxs)(o.xu,{paddingTop:"1.1rem",paddingLeft:"1.8rem",paddingRight:"1.8rem",borderBottomRadius:"10",children:[r.date[0]&&(0,t.jsxs)(o.xu,{fontSize:"xs",color:"gray",children:[r.date[0]&&(0,m.default)(r.date[0].toDate(),"yyyy/MM/dd"),"~",r.date[1]&&(0,m.default)(r.date[1].toDate(),"yyyy/MM/dd")]}),(0,t.jsx)(o.xu,{children:(0,t.jsx)(o.X6,{paddingTop:"0.6rem",paddingBottom:"1.4rem",fontSize:"lg",children:r.title})}),(0,t.jsx)(o.kC,{alignContent:"baseline",children:(0,t.jsxs)(o.kC,{children:[(0,t.jsx)(d.qE,{w:"2.4rem",h:"2.4rem",src:r.ownerIcon}),(0,t.jsx)(o.xu,{paddingLeft:"1rem",fontSize:"md",children:r.ownerName})]})})]}),(0,t.jsx)(f.zx,{mt:"1.6rem",children:(0,t.jsx)(o.kC,{w:"3.6rem",h:"3.6rem",align:"center",justify:"center",children:(0,t.jsx)(o.xu,{bgImage:"/images/icons/homeMenu.svg",w:"2.4rem",h:"2.4rem"})})})]})]})},r.id)},h=n(4612),p=n(9680);function x(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var b=function(e){var r=function(e,r,n){var t=(0,p.ar)({name:"category",defaultValue:e[n],onChange:function(e){r((function(r){var t=r;return t.splice(n,1,e),t}))}}),o=t.getRootProps;return{categoryOptions:["\u5834\u6240","\u98df\u4e8b","\u305d\u306e\u4ed6"],getRadioProps:t.getRadioProps,group:o()}}(e.categories,e.setCategories,e.index),n=r.categoryOptions,i=r.getRadioProps,s=r.group;return(0,t.jsx)(o.Ug,function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){x(e,r,n[r])}))}return e}({},s,{children:n.map((function(e){var r=i({value:e});return(0,t.jsx)(w,{radio:r,children:e},e)}))}))},v=n(7294);function j(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function y(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){j(e,r,n[r])}))}return e}var w=function(e){var r=e.radio,n=e.children,i=(0,p.xL)(r),s=i.getInputProps,a=i.getCheckboxProps,l=s(),u=a();return(0,t.jsxs)(o.xu,{as:"label",children:[(0,t.jsx)("input",y({},l)),(0,t.jsx)(o.xu,y({},u,{cursor:"pointer",borderWidth:"1px",borderRadius:"full",borderColor:"#ACC1CA",bg:"white",_checked:{bg:"brandBlue",color:"white",borderColor:"brandBlue"},_focus:{boxShadow:"outline"},px:5,py:3,children:n}))]})},C=n(3832),k=function(e){var r=e.setCategories,n=e.setIsMinimum,i=e.remove,s=e.index;return(0,t.jsxs)(C.v2,{children:[(0,t.jsxs)(o.kC,{position:"absolute",right:"1.2rem",zIndex:2,children:[(0,t.jsx)(o.LZ,{}),(0,t.jsx)(C.j2,{children:(0,t.jsx)(o.kC,{w:"3.6rem",h:"3.6rem",align:"center",justify:"center",children:(0,t.jsx)(o.xu,{bgImage:"/images/menuButton.svg",w:"2.4rem",h:"2.4rem"})})})]}),(0,t.jsxs)(C.qy,{padding:"1.35rem 0 0 2.4rem",w:"16.8rem",h:"8.8rem",borderColor:"#CBD5E0",borderRadius:"1.5rem",boxShadow:0,children:[(0,t.jsxs)(C.sN,{display:"flex",padding:"0 0 1.35rem 0",onClick:function(){return n(!0)},children:[(0,t.jsx)(o.xu,{bgImage:"/images/closeMenu.svg",w:"1.5rem",h:"1.5rem",marginRight:"1.6rem"}),(0,t.jsx)(o.xu,{fontSize:"sm",children:"\u8868\u793a\u3092\u6700\u5c0f\u5316"})]}),(0,t.jsxs)(C.sN,{display:"flex",padding:0,onClick:function(){r((function(e){var r=e;return r.splice(s,1),r})),i()},children:[(0,t.jsx)(o.xu,{bgImage:"/images/icons/trash.svg",w:"1.68rem",h:"1.68rem",marginRight:"1.6rem"}),(0,t.jsx)(o.xu,{fontSize:"sm",color:"#FF4D4D",children:"\u524a\u9664\u3059\u308b"})]})]})]})},I=n(4051),O=n.n(I),S=n(7375);function R(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function P(e,r,n,t,o,i,s){try{var a=e[i](s),l=a.value}catch(u){return void n(u)}a.done?r(l):Promise.resolve(l).then(t,o)}function E(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(t=n.next()).done)&&(i.push(t.value),!r||i.length!==r);s=!0);}catch(l){a=!0,o=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return R(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var D=function(e,r,n){var t=(0,v.useState)(),o=t[0],i=t[1],s=E((0,S.kt)(),2),a=s[0],l=s[1],u=function(){var t,o=(t=O().mark((function t(o){var s,a;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l.on(),o){t.next=5;break}return alert("url\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),l.off(),t.abrupt("return");case 5:if(o.match(/^(https?|ftp)(:\/\/[-_.!~*'()a-zA-Z0-9;/?:@&=+$,%#]+)/)){t.next=10;break}return console.log("a"),alert("url\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093"),l.off(),t.abrupt("return");case 10:return t.prev=10,t.next=13,fetch("/api/ogp?url=".concat(o),{headers:{Accept:"application/json"}});case 13:return s=t.sent,t.next=16,s.json();case 16:if(a=t.sent,i(a),a.title){t.next=21;break}return alert("\u30ea\u30f3\u30af\u5148\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f"),t.abrupt("return");case 21:e(a.title),r("links.".concat(n,".label"),a.title),t.next=29;break;case 25:t.prev=25,t.t0=t.catch(10),alert("\u30ea\u30f3\u30af\u5148\u306e\u30bf\u30a4\u30c8\u30eb\u304c\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f"),console.error(t.t0);case 29:return t.prev=29,l.off(),t.finish(29);case 32:case"end":return t.stop()}}),t,null,[[10,25,29,32]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function s(e){P(i,n,o,s,a,"next",e)}function a(e){P(i,n,o,s,a,"throw",e)}s(void 0)}))});return function(e){return o.apply(this,arguments)}}();return{ogp:o,onClickHandler:u,disabled:a,setOgp:i}};function A(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function z(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){A(e,r,n[r])}))}return e}var M=function(e){var r,n=e.index,i=e.register,a=e.remove,l=e.errors,u=e.setCurrentLabel,c=e.setIsMinimum,d=e.categories,m=e.setCategories,g=e.setValue,p=e.currentUrl,x=e.setCurrentUrl,v=D(u,g,n),j=v.disabled,y=v.ogp,w=v.onClickHandler,C=v.setOgp;return(0,t.jsxs)(o.xu,{marginTop:"1rem",padding:"1.4rem 1.6rem 1.4rem 1.6rem",w:"100%",borderRadius:"1.5rem",bgColor:"white",filter:"drop-shadow(0.4rem 0.4rem 1rem #E4EBEE)",children:[(0,t.jsx)(k,{setIsMinimum:c,remove:a,index:n,setCategories:m}),(0,t.jsxs)(s.NI,{children:[(0,t.jsx)(s.lX,{fontSize:"sm",color:"#2D2D2D",children:"\u30ab\u30c6\u30b4\u30ea\u30fc"}),(0,t.jsx)(b,{categories:d,index:n,setCategories:m})]}),(0,t.jsxs)(s.NI,{mt:"1.6rem",isInvalid:!!l,children:[(0,t.jsx)(s.lX,{fontSize:"sm",color:"#2D2D2D",children:"URL"}),(0,t.jsx)(h.II,z({marginTop:"0.3rem",variant:"outline",borderColor:"#ACC1CA",w:"100%",h:"4.4rem",borderRightRadius:"10rem",borderLeftRadius:"10rem",isInvalid:!!(null===l||void 0===l?void 0:l[n])},i("links.".concat(n,".url")),{placeholder:"https://",onChange:function(e){x(e.target.value)}})),(0,t.jsx)(s.J1,{mb:"1rem",children:(null===l||void 0===l?void 0:l[n])&&(null===(r=null===l||void 0===l?void 0:l[n].url)||void 0===r?void 0:r.message)})]}),(0,t.jsxs)(s.NI,{mt:"1.6rem",children:[(0,t.jsxs)(s.lX,{fontSize:"sm",color:"#2D2D2D",display:"flex",justifyContent:"space-between",children:[(0,t.jsxs)(o.xu,{display:"inline",children:["\u30e9\u30d9\u30eb"," ",(0,t.jsx)(o.xu,{as:"span",color:"gray",children:"\uff08\u4efb\u610f\uff09"})]}),(0,t.jsx)(f.zx,{disabled:j,onClick:function(){w(p)},p:"0",borderBottom:j?"none":"0.1rem solid",borderColor:j?"none":"brandBlue",color:"brandBlue",borderRadius:"none",children:"\u81ea\u52d5\u53d6\u5f97"})]}),(0,t.jsx)(h.II,z({marginTop:"0.3rem",variant:"outline",borderColor:"#ACC1CA",w:"100%",h:"4.4rem",borderRightRadius:"10rem",onFocus:function(){C(void 0)},borderLeftRadius:"10rem"},i("links.".concat(n,".label")),{onChange:function(e){u(e.target.value)},value:y&&y.title,placeholder:j?"\u53d6\u5f97\u4e2d":"\u4f8b\uff09\u5bbf\u6cca\u5148"}))]})]})},N=function(e){var r=e.label,n=e.index,o=e.url,i=e.remove,s=e.register,l=e.errors,u=e.setCategories,c=e.categories,d=e.setIsClickNext,m=e.isClickNext,f=e.isLast,g=e.setValue,h=(0,v.useState)(!1),p=h[0],x=h[1],b=(0,v.useState)(r),j=b[0],y=b[1],w=(0,v.useState)(o),C=w[0],k=w[1];return!m||p||f||x(!0),(0,t.jsx)(t.Fragment,{children:p?(0,t.jsx)(a,{label:j,setIsClickNext:d,setIsMinimum:x,errors:l?l[n]:void 0,category:c[n]}):(0,t.jsx)(M,{currentUrl:C,setCurrentUrl:k,index:n,setValue:g,register:s,errors:l,url:o,remove:function(){i()},setCurrentLabel:y,setIsMinimum:x,categories:c,setCategories:u})})}}}]);