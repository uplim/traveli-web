(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[424],{4948:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[traveliId]",function(){return t(3359)}])},3359:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return M}});var n=t(5893),i=t(8527),o=t(3465),a=t(4651),l=t(5193),c=t(8843),s=t(1664),u=t.n(s),d=t(2298),f=t(3307),m=t(2770),h=t(3468),x=t(1028),y=t(4059),g=function(e){var r=e.thumbnail,t=e.title,o=e.date,l=e.path,c=e.isOpen,s=e.onClose;return(0,n.jsxs)(x.u_,{isOpen:c,onClose:s,children:[(0,n.jsx)(x.ZA,{}),(0,n.jsxs)(x.hz,{margin:"auto 0",width:"90vw",maxW:"90vw",height:"auto",borderRadius:"3rem",padding:"2rem",children:[(0,n.jsx)(x.xB,{}),(0,n.jsx)(x.ol,{margin:"1rem"}),(0,n.jsxs)(x.fe,{children:[(0,n.jsx)(a.Ee,{borderRadius:"full",boxSize:"12rem",src:r,alt:"img",margin:"0 auto",border:"solid white 0.4rem"}),(0,n.jsx)(i.xv,{fontSize:"2rem",fontWeight:"bold",textAlign:"center",marginTop:"1rem",children:t}),o[0]&&(0,n.jsxs)(i.xv,{fontSize:"1.2rem",color:"gray",textAlign:"center",children:[o[0]&&(0,d.default)(o[0].toDate(),"yyyy/MM/dd"),"~",o[1]&&(0,d.default)(o[1].toDate(),"yyyy/MM/dd")]}),(0,n.jsx)(i.xu,{textAlign:"center",display:"flex",justifyContent:"center",margin:"2rem 0",children:(0,n.jsx)(y.ZP,{value:"https://traveli-web.vercel.app/".concat(l),size:168,includeMargin:!1})}),(0,n.jsxs)(i.xv,{textAlign:"center",margin:"0 auto",w:"24rem",children:["QR\u30b3\u30fc\u30c9\u3092\u8aad\u307f\u53d6\u3063\u3066\u3001",(0,n.jsx)("br",{}),"\u53cb\u9054\u3084\u5bb6\u65cf\u306b\u5171\u6709\u3057\u307e\u3057\u3087\u3046"]})]}),(0,n.jsx)(x.mz,{})]})]})},p=t(7043),b=t(7375),j=t(4480),v=t(7658),w=t(4051),k=t.n(w);function S(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function C(e,r,t,n,i,o,a){try{var l=e[o](a),c=l.value}catch(s){return void t(s)}l.done?r(c):Promise.resolve(c).then(n,i)}function A(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return S(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(){var e=A((0,b.kt)(),2),r=e[0],t=e[1],n=(0,c.Ef)(),i=n.isBookmarked,o=n.setIsBookmarked,a=c.qM,l=c.Mt,s=function(){var e,r=(e=k().mark((function e(r,n){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",console.log("\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044"));case 2:if(t.on(),i){e.next=9;break}return e.next=6,a(r.uid,n.id,n);case 6:o.on(),e.next=12;break;case 9:return e.next=11,l(r.uid,n.id);case 11:o.off();case 12:t.off();case 13:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,i){var o=e.apply(r,t);function a(e){C(o,n,i,a,l,"next",e)}function l(e){C(o,n,i,a,l,"throw",e)}a(void 0)}))});return function(e,t){return r.apply(this,arguments)}}();return{onClickBookmark:s,disabled:r,isBookmarked:i}},O=function(e,r){return e.links.filter((function(e){return e.category===r}))},T=t(7294);function z(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function E(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return z(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return z(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=function(){var e=(0,j.sJ)(v.y),r=(0,c.no)().travelink,t=(0,b.qY)(),s=t.isOpen,x=t.onOpen,y=t.onClose,w=_(),k=w.onClickBookmark,S=w.disabled,C=w.isBookmarked,A=O,z=function(){var e=(0,T.useState)(!1),r=e[0],t=e[1],n=E((0,b.kt)(),2),i=n[0],o=n[1];return{copied:r,disabled:i,copyTextToClipboard:function(e){o.on(),navigator.clipboard.writeText(e).then((function(){t(!0),o.off(),setTimeout((function(){t(!1)}),1e3)})).catch((function(){t(!1),o.off()}))}}}(),M=z.copyTextToClipboard,I=z.disabled,R=z.copied;return(0,n.jsx)(n.Fragment,{children:r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.xu,{position:"absolute",bgRepeat:"no-repeat",bgSize:"cover",bgPosition:"center center",top:"0",left:"0",w:"100vw",bgImage:r.thumbnail,h:"24rem"}),(0,n.jsx)(i.xu,{position:"absolute",top:"18rem",left:"0",w:"100vw",h:"19rem",bgColor:"white",borderRadius:"3.0rem 3.0rem 0 0"}),(0,n.jsxs)(o.mQ,{isFitted:!0,colorScheme:"brandPink",color:"black",position:"absolute",top:"37rem",left:"0",w:"100vw",h:"30%",children:[(0,n.jsxs)(o.td,{bgColor:"white",children:[(0,n.jsx)(o.OK,{children:"\u5168\u3066"}),(0,n.jsx)(o.OK,{children:"\u98df\u4e8b"}),(0,n.jsx)(o.OK,{children:"\u5834\u6240"}),(0,n.jsx)(o.OK,{children:"\u305d\u306e\u4ed6"})]}),(0,n.jsxs)(o.nP,{children:[(0,n.jsx)(o.x4,{children:r.links.map((function(e,r){var t=e.url,i=e.label,o=e.category;return(0,n.jsx)(h.YS,{label:i,url:t,category:o},"all_".concat(r))}))}),(0,n.jsx)(o.x4,{children:A(r,"\u98df\u4e8b").map((function(e,r){var t=e.url,i=e.label,o=e.category;return(0,n.jsx)(h.YS,{label:i,url:t,category:o},"food_".concat(r))}))}),(0,n.jsx)(o.x4,{children:A(r,"\u5834\u6240").map((function(e,r){var t=e.url,i=e.label,o=e.category;return(0,n.jsx)(h.YS,{label:i,url:t,category:o},"place_".concat(r))}))}),(0,n.jsx)(o.x4,{children:A(r,"\u305d\u306e\u4ed6").map((function(e,r){var t=e.url,i=e.label,o=e.category;return(0,n.jsx)(h.YS,{label:i,url:t,category:o},"other_".concat(r))}))})]})]}),(0,n.jsxs)(i.kC,{w:"100%",h:"6.3rem",justify:"center",align:"center",children:[(0,n.jsx)(u(),{href:"/home",children:(0,n.jsx)(m.hR,{as:"a",iconType:"return"})}),(0,n.jsx)(i.LZ,{}),(0,n.jsx)(u(),{href:"/".concat(r.id,"/edit"),children:(0,n.jsx)(m.hR,{as:"a",iconType:"edit"})})]}),(0,n.jsxs)(i.xu,{children:[(0,n.jsx)(a.Ee,{borderRadius:"full",boxSize:"12rem",src:r.thumbnail,alt:"img",margin:"6rem auto 0 auto",border:"solid white 0.4rem"}),(0,n.jsx)(i.xv,{fontSize:"2rem",fontWeight:"bold",textAlign:"center",marginTop:"1rem",children:r.title}),r.date[0]&&(0,n.jsxs)(i.xv,{fontSize:"1.2rem",color:"gray",textAlign:"center",children:[r.date[0]&&(0,d.default)(r.date[0].toDate(),"yyyy/MM/dd"),"~",r.date[1]&&(0,d.default)(r.date[1].toDate(),"yyyy/MM/dd")]}),(0,n.jsxs)(i.kC,{w:"70%",margin:"0.9rem auto",children:[(0,n.jsx)(l.zx,{disabled:S,display:"inline",h:"auto",onClick:function(){return k(e,r)},children:C?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Ee,{alt:"",src:"/images/icons/bookmark-solid.svg",w:"2.5rem",h:"2.5rem",margin:"0 auto"}),(0,n.jsx)(i.xv,{children:"\u4fdd\u5b58\u6e08\u307f"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Ee,{alt:"",src:"/images/icons/bookmark-outline.svg",w:"2.5rem",h:"2.5rem",margin:"0 auto"}),(0,n.jsx)(i.xv,{children:"\u4fdd\u5b58\u3059\u308b"})]})}),(0,n.jsx)(i.LZ,{}),(0,n.jsxs)(l.zx,{onClick:x,display:"inline",h:"auto",children:[(0,n.jsx)(f.G1,{w:"2.5rem",h:"2.5rem",margin:"0.2rem auto 0 auto"}),(0,n.jsx)(i.xv,{children:"QR\u30b3\u30fc\u30c9"})]}),(0,n.jsx)(g,{thumbnail:r.thumbnail,title:r.title,date:r.date,path:r.id,isOpen:s,onClose:y}),(0,n.jsx)(i.LZ,{}),(0,n.jsxs)(l.zx,{disabled:I,display:"inline",h:"auto",w:"8.4rem",onClick:function(){return M("https://traveli-web.vercel.app/".concat(r.id))},children:[R?(0,n.jsx)(f.NO,{color:"#77B255",src:"/images/icons/check.svg",alt:"",w:"2.5rem",h:"2.5rem",margin:"0 auto"}):(0,n.jsx)(a.Ee,{src:"/images/icons/copy.svg",alt:"",w:"2.5rem",h:"2.5rem",margin:"0 auto"}),(0,n.jsx)(i.xv,{children:"\u30b3\u30d4\u30fc"})]})]})]})]}):(0,n.jsx)(p.g,{})})}}},function(e){e.O(0,[495,461,59,856,468,774,888,179],(function(){return r=4948,e(e.s=r);var r}));var r=e.O();_N_E=r}]);