(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[424],{4948:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[traveliId]",function(){return n(3984)}])},5684:function(e,r,n){"use strict";n.d(r,{d:function(){return h}});var t=n(4051),o=n.n(t),i=n(1163),a=n(5873),l=n(4480),s=n(3125),u=n(7375),c=n(8843);function d(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function m(e,r,n,t,o,i,a){try{var l=e[i](a),s=l.value}catch(u){return void n(u)}l.done?r(s):Promise.resolve(s).then(t,o)}function f(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(t=n.next()).done)&&(i.push(t.value),!r||i.length!==r);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return d(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=function(){var e=(0,i.useRouter)(),r=f((0,u.kt)(),2),n=r[0],t=r[1],d=f((0,l.FV)(s.y),2),h=d[0],x=d[1],p=c.O2,y=function(){var r,n=(r=o().mark((function r(){var n,i,l,s,u;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.on(),n=(0,a.v0)(),i=new a.hJ,!n.currentUser){r.next=9;break}return r.next=6,(0,a.k9)(n.currentUser,i);case 6:(0,a.Aj)(n,(function(r){x(r?{uid:r.uid,isAnonymous:r.isAnonymous}:null),e.push("/home")})),r.next=15;break;case 9:return r.next=12,(0,a.rh)(n,i);case 12:s=r.sent,u=null===(l=(0,a.gK)(s))||void 0===l?void 0:l.isNewUser,(0,a.Aj)(n,(function(r){if(r){if(u){var n,t,o={uid:r.uid,isAnonymous:r.isAnonymous,name:null!==(n=r.providerData[0].displayName)&&void 0!==n?n:"",icon:null!==(t=r.providerData[0].photoURL)&&void 0!==t?t:""};p(o),x(o)}}else x(null);e.push("/home")}));case 15:case"end":return r.stop()}}),r)})),function(){var e=this,n=arguments;return new Promise((function(t,o){var i=r.apply(e,n);function a(e){m(i,t,o,a,l,"next",e)}function l(e){m(i,t,o,a,l,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();return{signInGoogleHandler:y,disabled:n,currentUser:h}}},3984:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return B}});var t=n(5893),o=n(8527),i=n(3465),a=n(4651),l=n(5193),s=n(8843),u=n(1664),c=n.n(u),d=n(2298),m=n(3307),f=n(2770),h=n(6995),x=n(1028),p=n(4059),y=function(e){var r=e.thumbnail,n=e.title,i=e.date,l=e.path,s=e.isOpen,u=e.onClose;return(0,t.jsxs)(x.u_,{isOpen:s,onClose:u,children:[(0,t.jsx)(x.ZA,{}),(0,t.jsxs)(x.hz,{margin:"auto 0",width:"90vw",maxW:"90vw",height:"auto",borderRadius:"3rem",padding:"2rem",children:[(0,t.jsx)(x.xB,{}),(0,t.jsx)(x.ol,{margin:"1rem"}),(0,t.jsxs)(x.fe,{children:[(0,t.jsx)(a.Ee,{borderRadius:"full",boxSize:"12rem",src:r,alt:"img",margin:"0 auto",border:"solid white 0.4rem"}),(0,t.jsx)(o.xv,{fontSize:"2rem",fontWeight:"bold",textAlign:"center",marginTop:"1rem",children:n}),i[0]&&(0,t.jsxs)(o.xv,{fontSize:"1.2rem",color:"gray",textAlign:"center",children:[i[0]&&(0,d.default)(i[0].toDate(),"yyyy/MM/dd"),"~",i[1]&&(0,d.default)(i[1].toDate(),"yyyy/MM/dd")]}),(0,t.jsx)(o.xu,{textAlign:"center",display:"flex",justifyContent:"center",margin:"2rem 0",children:(0,t.jsx)(p.ZP,{value:"https://traveli-web.vercel.app/".concat(l),size:168,includeMargin:!1})}),(0,t.jsxs)(o.xv,{textAlign:"center",margin:"0 auto",w:"24rem",children:["QR\u30b3\u30fc\u30c9\u3092\u8aad\u307f\u53d6\u3063\u3066\u3001",(0,t.jsx)("br",{}),"\u53cb\u9054\u3084\u5bb6\u65cf\u306b\u5171\u6709\u3057\u307e\u3057\u3087\u3046"]})]}),(0,t.jsx)(x.mz,{})]})]})},g=n(9301),b=n(5684),v=function(e){var r=e.isOpen,n=e.onClose,i=(0,g.lN)(),l=i.signInAnonymouslyHandler,s=i.disabled,u=(0,b.d)(),c=u.signInGoogleHandler,d=u.disabled;return(0,t.jsxs)(x.u_,{isOpen:r,onClose:n,children:[(0,t.jsx)(x.ZA,{}),(0,t.jsxs)(x.hz,{margin:"auto 0",width:"100vw",maxW:"100vw",borderRadius:"3rem",children:[(0,t.jsx)(x.ol,{margin:"1rem"}),(0,t.jsx)(x.fe,{children:(0,t.jsxs)(o.xu,{pt:"4.7rem",pb:"3.4rem",children:[(0,t.jsx)(o.kC,{m:"0 auto 2.7rem auto",w:"13.4rem",children:(0,t.jsx)(a.Ee,{src:"/images/top.svg",alt:""})}),(0,t.jsx)(o.kC,{m:"-3rem auto 0 auto",w:"34.6rem",children:(0,t.jsx)(a.Ee,{src:"/images/smartphone-mini.png",alt:""})}),(0,t.jsxs)(o.xv,{textAlign:"center",lineHeight:"1.92rem",fontSize:"md",children:["traveli\u306f\u3001\u65c5\u5148\u3067\u5fc5\u8981\u306aURL\u3092\u307e\u3068\u3081\u3066\u3001",(0,t.jsx)("br",{})," \u7ba1\u7406\u30fb\u5171\u6709\u3067\u304d\u308bweb\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u3002"]}),(0,t.jsx)(f.p4,{disabled:d,bgColor:"brandBlue",text:"Google\u3067\u30b5\u30a4\u30f3\u30a4\u30f3",color:"white",h:"5.2rem",mt:"2.7rem",iconType:"anonymous",isShadow:!1,onClick:function(){c()}}),(0,t.jsx)(f.p4,{disabled:s,color:"brandBlue",border:".2rem solid",h:"5.2rem",isShadow:!1,borderColor:"brandBlue",mt:"2.1rem",iconType:"anonymous",onClick:function(){l()}})]})})]})]})},j=n(7043),w=n(7375),k=n(4051),A=n.n(k);function C(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function S(e,r,n,t,o,i,a){try{var l=e[i](a),s=l.value}catch(u){return void n(u)}l.done?r(s):Promise.resolve(s).then(t,o)}function O(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(t=n.next()).done)&&(i.push(t.value),!r||i.length!==r);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return C(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(){var e=O((0,w.kt)(),2),r=e[0],n=e[1],t=(0,s.Ef)(),o=t.isBookmarked,i=t.setIsBookmarked,a=s.qM,l=s.Mt,u=function(){var e,r=(e=A().mark((function e(r,t){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(n.on(),o){e.next=9;break}return e.next=6,a(t.uid,r.id,r);case 6:i.on(),e.next=12;break;case 9:return e.next=11,l(t.uid,r.id);case 11:i.off();case 12:n.off();case 13:case"end":return e.stop()}}),e)})),function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function a(e){S(i,t,o,a,l,"next",e)}function l(e){S(i,t,o,a,l,"throw",e)}a(void 0)}))});return function(e,n){return r.apply(this,arguments)}}();return{onClickBookmark:u,disabled:r,isBookmarked:o}},I=function(e,r){return e.links.filter((function(e){return e.category===r}))},T=n(7294);function E(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function z(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(t=n.next()).done)&&(i.push(t.value),!r||i.length!==r);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return E(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=n(3125),R=n(4480),B=function(){var e=(0,R.sJ)(M.y),r=(0,s.no)().travelink,n=(0,w.qY)(),u=n.isOpen,x=n.onOpen,p=n.onClose,g=(0,w.qY)(),b=g.isOpen,k=g.onOpen,A=g.onClose,C=_(),S=C.onClickBookmark,O=C.disabled,E=C.isBookmarked,B=I,P=function(){var e=(0,T.useState)(!1),r=e[0],n=e[1],t=z((0,w.kt)(),2),o=t[0],i=t[1];return{copied:r,disabled:o,copyTextToClipboard:function(e){i.on(),navigator.clipboard.writeText(e).then((function(){n(!0),i.off(),setTimeout((function(){n(!1)}),1e3)})).catch((function(){n(!1),i.off()}))}}}(),N=P.copyTextToClipboard,U=P.disabled,F=P.copied;return(0,t.jsx)(t.Fragment,{children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.xu,{position:"absolute",bgRepeat:"no-repeat",bgSize:"cover",bgPosition:"center center",top:"0",left:"0",w:"100vw",bgImage:r.thumbnail?r.thumbnail:"/images/noImage.png",h:"24rem"}),(0,t.jsx)(o.xu,{position:"absolute",top:"18rem",left:"0",w:"100vw",h:"19rem",bgColor:"white",borderRadius:"3.0rem 3.0rem 0 0"}),(0,t.jsxs)(i.mQ,{isFitted:!0,colorScheme:"brandPink",color:"black",position:"absolute",top:"37rem",left:"0",w:"100vw",h:"30%",children:[(0,t.jsxs)(i.td,{bgColor:"white",children:[(0,t.jsx)(i.OK,{children:"\u5168\u3066"}),(0,t.jsx)(i.OK,{children:"\u98df\u4e8b"}),(0,t.jsx)(i.OK,{children:"\u5834\u6240"}),(0,t.jsx)(i.OK,{children:"\u305d\u306e\u4ed6"})]}),(0,t.jsxs)(i.nP,{children:[(0,t.jsx)(i.x4,{children:r.links.map((function(e,r){var n=e.url,o=e.label,i=e.category;return(0,t.jsx)(h.YS,{label:o||n,url:n,category:i},"all_".concat(r))}))}),(0,t.jsx)(i.x4,{children:B(r,"\u98df\u4e8b").map((function(e,r){var n=e.url,o=e.label,i=e.category;return(0,t.jsx)(h.YS,{label:o||n,url:n,category:i},"food_".concat(r))}))}),(0,t.jsx)(i.x4,{children:B(r,"\u5834\u6240").map((function(e,r){var n=e.url,o=e.label,i=e.category;return(0,t.jsx)(h.YS,{label:o||n,url:n,category:i},"place_".concat(r))}))}),(0,t.jsx)(i.x4,{children:B(r,"\u305d\u306e\u4ed6").map((function(e,r){var n=e.url,o=e.label,i=e.category;return(0,t.jsx)(h.YS,{label:o||n,url:n,category:i},"other_".concat(r))}))})]})]}),(0,t.jsx)(o.kC,{w:"100%",h:"6.3rem",justify:"center",align:"center",children:e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c(),{href:"/home",children:(0,t.jsx)(f.hR,{as:"a",iconType:"return"})}),(0,t.jsx)(o.LZ,{}),(0,t.jsx)(c(),{href:"/".concat(r.id,"/edit"),children:(0,t.jsx)(f.hR,{as:"a",iconType:"edit"})})]})}),(0,t.jsxs)(o.xu,{children:[(0,t.jsx)(a.Ee,{borderRadius:"full",boxSize:"12rem",src:r.thumbnail?r.thumbnail:"/images/noImage_icon.png",alt:"img",margin:"6rem auto 0 auto",border:"solid white 0.4rem"}),(0,t.jsx)(o.xv,{fontSize:"2rem",fontWeight:"bold",textAlign:"center",marginTop:"1rem",children:r.title}),r.date[0]&&(0,t.jsxs)(o.xv,{fontSize:"1.2rem",color:"gray",textAlign:"center",children:[r.date[0]&&(0,d.default)(r.date[0].toDate(),"yyyy/MM/dd"),"~",r.date[1]&&(0,d.default)(r.date[1].toDate(),"yyyy/MM/dd")]}),(0,t.jsxs)(o.kC,{w:"70%",margin:"0.9rem auto",children:[(0,t.jsx)(l.zx,{disabled:O,display:"inline",h:"auto",onClick:function(){return e?S(r,e):k()},children:E?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Ee,{alt:"",src:"/images/icons/bookmark-solid.svg",w:"2.5rem",h:"2.5rem",margin:"0 auto"}),(0,t.jsx)(o.xv,{children:"\u4fdd\u5b58\u6e08\u307f"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Ee,{alt:"",src:"/images/icons/bookmark-outline.svg",w:"2.5rem",h:"2.5rem",margin:"0 auto"}),(0,t.jsx)(o.xv,{children:"\u4fdd\u5b58\u3059\u308b"})]})}),(0,t.jsx)(v,{isOpen:b,onClose:A}),(0,t.jsx)(o.LZ,{}),(0,t.jsxs)(l.zx,{onClick:x,display:"inline",h:"auto",children:[(0,t.jsx)(m.G1,{w:"2.5rem",h:"2.5rem",margin:"0.2rem auto 0 auto"}),(0,t.jsx)(o.xv,{children:"QR\u30b3\u30fc\u30c9"})]}),(0,t.jsx)(y,{thumbnail:r.thumbnail?r.thumbnail:"/images/noImage_icon.png",title:r.title,date:r.date,path:r.id,isOpen:u,onClose:p}),(0,t.jsx)(o.LZ,{}),(0,t.jsxs)(l.zx,{disabled:U,display:"inline",h:"auto",w:"8.4rem",onClick:function(){return N("https://traveli-web.vercel.app/".concat(r.id))},children:[F?(0,t.jsx)(m.NO,{color:"#77B255",src:"/images/icons/check.svg",alt:"",w:"2.5rem",h:"2.5rem",margin:"0 auto"}):(0,t.jsx)(a.Ee,{src:"/images/icons/copy.svg",alt:"",w:"2.5rem",h:"2.5rem",margin:"0 auto"}),(0,t.jsx)(o.xv,{children:"\u30b3\u30d4\u30fc"})]})]})]})]}):(0,t.jsx)(j.g,{})})}}},function(e){e.O(0,[625,461,59,856,995,774,888,179],(function(){return r=4948,e(e.s=r);var r}));var r=e.O();_N_E=r}]);