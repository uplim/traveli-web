(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[672],{218:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[traveliId]/edit",function(){return n(7573)}])},6866:function(e,r,n){"use strict";n.d(r,{E:function(){return R},r:function(){return p}});var t=n(5893),i=n(8527),o=n(6886),l=n(6723),a=n(9762),c=n(7657),s=n(1358),u=n(4612),d=n(1664),m=n.n(d),f=n(553),h=n(1997),j=n(7294),x=n(1163);function b(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function g(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){b(e,r,n[r])}))}return e}var p=function(){var e=(0,x.useRouter)(),r=(0,h.t)(),n=r.onSubmit,d=r.handleSubmit,b=r.register,p=r.handleChangeIcon,y=r.error,v=r.iconUrl,w=r.name,k=r.image,E=r.disabled,C=(0,j.useRef)(null);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(i.xu,{as:"form",height:"100vh",position:"relative",children:[y&&(0,t.jsx)(o.bZ,{children:"\u9001\u4fe1\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f"}),(0,t.jsxs)(i.kC,{w:"100%",h:"6.3rem",justify:"center",align:"center",children:[(0,t.jsx)(m(),{href:e.basePath+"/home",passHref:!0,children:(0,t.jsx)(l.hU,{"aria-label":"return",size:"lg",icon:(0,t.jsx)(f.BK,{w:"2.2rem",h:"2.2rem"})})}),(0,t.jsx)(i.LZ,{}),(0,t.jsx)(i.xu,{color:"black",fontSize:"md",fontWeight:"bold",children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb"}),(0,t.jsx)(i.LZ,{}),(0,t.jsx)(i.xu,{w:"2.2rem",h:"2.2rem"})]}),(0,t.jsxs)(a.NI,{children:[(0,t.jsx)(i.kC,{align:"center",justify:"center",children:(0,t.jsx)(i.xu,{borderRadius:"50%",filter:"drop-shadow(4px 4px 10px #E4EBEE);",marginBottom:"2.4rem",bgColor:"base",children:(0,t.jsx)(c.qE,{src:k?URL.createObjectURL(k):v,w:"12.9rem",h:"12.9rem",onClick:function(){var e;null===(e=C.current)||void 0===e||e.click()}})})}),(0,t.jsx)(s.by,{onChange:p,ref:C,id:"icon",type:"file",accept:"image/*"}),(0,t.jsx)(a.lX,{htmlFor:"name",fontSize:"md",children:"\u30cb\u30c3\u30af\u30cd\u30fc\u30e0"}),(0,t.jsx)(i.kC,{align:"center",justify:"center",children:(0,t.jsx)(u.II,g({variant:"filled",w:"34.4rem",h:"4.6rem",borderRightRadius:"10rem",borderLeftRadius:"10rem",bgColor:"white",filter:"drop-shadow(4px 4px 10px #E4EBEE)",id:"name",defaultValue:w},b("name")))})]}),(0,t.jsx)(l.zx,{position:"absolute",bottom:"12.9rem",right:"50%",transform:"translateX(50%)",disabled:E,variant:"round",onClick:d(n),children:"\u6c7a\u5b9a"})]})})},y=n(9033),v=(n(5828),n(7536)),w=n(9198),k=n.n(w),E=n(944);(0,w.registerLocale)("ja",E.Z);var C=function(e){var r=e.name,n=e.control;return(0,t.jsx)(v.Qr,{control:n,name:r,render:function(e){var r=e.field,n=r.onChange,i=r.value,o=void 0===i?[null,null]:i;return(0,t.jsx)(k(),{locale:E.Z,selectsRange:!0,dateFormat:"yyyy/MM/dd",onChange:n,startDate:o[0],endDate:o[1],withPortal:!0})}})},O=n(9468);function I(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function S(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){I(e,r,n[r])}))}return e}var R=function(e){var r=e.formType,n=e.travelinkData,o=e.ownerProfile,c=e.isOwner,d=(0,h.j)(r,n,o),m=d.register,x=d.handleSubmit,b=d.fields,g=d.append,p=d.remove,v=d.control,w=d.onSubmit,k=d.errors,E=d.disabled,I=d.image,R=d.handleChangeImage,D=(0,j.useRef)(null);return(0,t.jsxs)(i.xu,{children:[(0,t.jsxs)(i.kC,{w:"100%",h:"6.3rem",justify:"center",align:"center",children:[(0,t.jsx)(f.BK,{w:"2.2rem",h:"2.2rem"}),(0,t.jsx)(i.LZ,{}),(0,t.jsx)(i.xu,{color:"black",fontSize:"md",fontWeight:"bold",children:"\u65b0\u3057\u3044\u30c8\u30e9\u30d9\u30ea\u30f3\u30af\u3092\u4f5c\u6210"}),(0,t.jsx)(i.LZ,{}),(0,t.jsx)(i.xu,{w:"2.2rem",h:"2.2rem"})]}),(0,t.jsxs)(a.NI,{isInvalid:!!k.title,children:[(0,t.jsx)(a.lX,{marginTop:"1.5rem",fontSize:"sm",color:"#2D2D2D",children:"\u65c5\u306e\u540d\u524d"}),(0,t.jsx)(u.II,S({variant:"filled",h:"4.6rem",marginTop:"0.8rem",borderRightRadius:"10rem",borderLeftRadius:"10rem",bgColor:"white",filter:"drop-shadow(0.4rem 0.4rem 1rem #E4EBEE)"},m("title"),{placeholder:"\u4f8b\uff09\u3068\u3082\u3060\u3061\u3068\u306e\u4e00\u6cca\u4e8c\u65e5\u306e\u65c5\u884c"})),(0,t.jsx)(a.J1,{children:k.title&&k.title.message})]}),(0,t.jsxs)(a.NI,{isInvalid:!!k.date,children:[(0,t.jsx)(a.lX,{marginTop:"1.6rem",fontSize:"sm",color:"#2D2D2D",children:"\u65e5\u6642\uff08\u4efb\u610f\uff09"}),(0,t.jsx)(C,{control:v,name:"date"})]}),(0,t.jsxs)(a.NI,{children:[(0,t.jsx)(a.lX,{marginTop:"1.6rem",fontSize:"sm",color:"#2D2D2D",children:"\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\uff08\u4efb\u610f\uff09"}),(0,t.jsx)(s.by,{ref:D,type:"file",accept:"image/*",onChange:R}),(0,t.jsx)(i.xu,{marginTop:"0.8rem",bgImage:I?URL.createObjectURL(I):"",onClick:function(){var e;null===(e=D.current)||void 0===e||e.click()},w:"100%",h:"12.9rem",borderRadius:"1rem",bgColor:"#D2D6E1",filter:"drop-shadow(0.4rem 0.4rem 1rem #E4EBEE)",children:(0,t.jsx)(i.kC,{h:"12.9rem",align:"center",justify:"center",children:(0,t.jsx)(f.Lj,{zIndex:1,w:"4.8rem",h:"4.8rem",color:"white"})})})]}),(0,t.jsx)(i.xu,{margin:"1.6rem 0 0.8rem 0",children:"\u30ea\u30f3\u30af"}),(0,t.jsxs)(a.NI,{children:[b.map((function(e,r){return(0,t.jsx)(j.Fragment,{children:(0,t.jsx)(O.ak,{label:e.label,url:e.url,index:r,formType:"create",remove:function(){p(r)}})},e.id)})),(0,t.jsxs)(i.kC,{align:"center",justify:"center",marginTop:"1.6rem",color:"brandBlue",children:[(0,t.jsx)(i.xu,{bgImage:"/images/plus.svg",w:"2.4rem",h:"2.4rem"}),(0,t.jsx)(i.xu,{as:"button",fontSize:"md",type:"button",onClick:function(){g({url:"",label:""})},children:"\u30ea\u30b9\u30c8\u306e\u8ffd\u52a0"})]}),(c||"create"===r)&&(0,t.jsxs)(a.NI,{display:"flex",alignItems:"center",paddingTop:"3rem",children:[(0,t.jsx)(y.r,S({sx:{"--switch-track-width":"3.8rem","--switch-track-height":"2rem"},backgroundColor:"#e3e4e5",borderRadius:"full",marginRight:"2.2rem",colorScheme:"brandBlue-switch"},m("canEdit"),{defaultChecked:null===n||void 0===n?void 0:n.canEdit})),(0,t.jsx)(a.lX,{children:"\u4ed6\u306e\u30e6\u30fc\u30b6\u306b\u7de8\u96c6\u3092\u8a31\u53ef\u3059\u308b"})]})]}),(0,t.jsx)(i.kC,{justify:"center",margin:"3rem 0 3.5rem 0",children:(0,t.jsx)(l.zx,{disabled:E,variant:"round",onClick:x(w),children:"\u4f5c\u6210\u3059\u308b"})})]})}},7573:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return f}});var t=n(5893),i=n(6866),o=n(5246),l=n(3125),a=n(7375),c=n(1163),s=n(7294),u=n(4480);function d(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function m(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,i,o=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);l=!0);}catch(c){a=!0,i=c}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return d(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=function(){var e=function(){var e=m((0,a.kt)(),2),r=e[0],n=e[1],t=m((0,a.kt)(),2),i=t[0],d=t[1],f=(0,o.no)().travelink,h=(0,u.sJ)(l.y),j=(0,c.useRouter)();return(0,s.useEffect)((function(){n.on(),f&&h&&(h.uid===f.ownerId&&d.on(),h.uid===f.ownerId||f.canEdit?n.off():j.push("/404"))}),[f]),{isLoading:r,travelink:f,isOwner:i}}(),r=e.travelink,n=e.isLoading,d=e.isOwner;return(0,t.jsx)(t.Fragment,{children:!r||n?(0,t.jsx)(t.Fragment,{children:"\u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u30a2\u30a4\u30b3\u30f3"}):(0,t.jsx)(i.E,{formType:"update",travelinkData:r,isOwner:d})})}}},function(e){e.O(0,[664,514,792,543,46,575,468,774,888,179],(function(){return r=218,e(e.s=r);var r}));var r=e.O();_N_E=r}]);